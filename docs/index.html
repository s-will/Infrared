<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Infrared: Infrared</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<!--  -->
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
  DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Infrared
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Infrared </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Infrared</a><ul><li class="level2"><a href="#autotoc_md1">Resources</a></li>
<li class="level2"><a href="#autotoc_md2">Main features</a></li>
<li class="level2"><a href="#autotoc_md3">Installation</a><ul><li class="level3"><a href="#autotoc_md4">Conda installation</a></li>
<li class="level3"><a href="#autotoc_md5">Pip installation from source</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md6">Documentation</a></li>
<li class="level2"><a href="#autotoc_md7">Infrared architecture and background</a><ul><li class="level3"><a href="#autotoc_md8">Python high level interface</a></li>
<li class="level3"><a href="#autotoc_md9">Infrared C++ core</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md10">Disclaimer and license</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Infrared</h1>
<p><img src="Doc/Infrared-Logos/infrared-small.gif" alt="" class="inline"/></p>
<p>Infrared is a framework for efficient, tree decomposition based solving of declaratively modeled problems. Models can be solved by optimization or Boltzmann sampling. The latter allows targeting of features by multi-dimensional Boltzmann sampling and supports further stochastic optimization.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Resources</h2>
<ul>
<li><p class="startli"><b>Online documentation</b>: <a href="https://www.lix.polytechnique.fr/~will/Software/Infrared">https://www.lix.polytechnique.fr/~will/Software/Infrared</a></p>
<p class="startli">Various <b>examples</b> of solving bioinformatics problems in Infrared provide an important entry point for practical use of Infrared. Moreover, two <b>tutorials</b> address RNA design in Infrared. One is accompanying a book chapter and design in Infrared; the other, directly showcasing elementary usage.</p>
</li>
<li><p class="startli"><b>Preprint</b>: <a href="https://inria.hal.science/hal-04211173">HT Yao, B Marchand, SJ Berkemer, Y Ponty, S Will. Infrared: a declarative tree decomposition-powered framework for bioinformatics. 2023</a></p>
<p class="startli">This manuscript comprehensively describes the system and also discusses many of the given example applications.</p>
</li>
<li><b>Installation</b>: <a href="https://anaconda.org/conda-forge/infrared"><code>conda install -c conda-forge infrared</code></a> <table class="doxtable">
<tr>
<th>Name </th><th>Downloads </th><th>Version </th><th>Platforms    </th></tr>
<tr>
<td><a href="https://anaconda.org/conda-forge/infrared" rel="nofollow"><img src="https://camo.githubusercontent.com/c930002e4cb49ed5db671880df00436fa9938b06652a510f3e9c39eb33f5461e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7265636970652d696e6672617265642d677265656e2e737667" alt="Conda Recipe" data-canonical-src="https://img.shields.io/badge/recipe-infrared-green.svg" style="max-width: 100%;" class="inline"/></a> </td><td><a href="https://anaconda.org/conda-forge/infrared" rel="nofollow"><img src="https://camo.githubusercontent.com/f3a395ec56108843b3283a11221fe7d4c21967acf623cc31af195f3d50625b68/68747470733a2f2f696d672e736869656c64732e696f2f636f6e64612f646e2f636f6e64612d666f7267652f696e6672617265642e737667" alt="Conda Downloads" data-canonical-src="https://img.shields.io/conda/dn/conda-forge/infrared.svg" style="max-width: 100%;" class="inline"/></a> </td><td><a href="https://anaconda.org/conda-forge/infrared" rel="nofollow"><img src="https://camo.githubusercontent.com/66b47863879e476698c41b7ab784b5f018d5db57a05a89201b3b359e1bc7a295/68747470733a2f2f696d672e736869656c64732e696f2f636f6e64612f766e2f636f6e64612d666f7267652f696e6672617265642e737667" alt="Conda Version" data-canonical-src="https://img.shields.io/conda/vn/conda-forge/infrared.svg" style="max-width: 100%;" class="inline"/></a> </td><td><a href="https://anaconda.org/conda-forge/infrared" rel="nofollow"><img src="https://camo.githubusercontent.com/4fc990acda82ad8788d0b8ae02468d231b7d4fc741947314a25a8a232189266d/68747470733a2f2f696d672e736869656c64732e696f2f636f6e64612f706e2f636f6e64612d666f7267652f696e6672617265642e737667" alt="Conda Platforms" data-canonical-src="https://img.shields.io/conda/pn/conda-forge/infrared.svg" style="max-width: 100%;" class="inline"/></a>   </td></tr>
</table>
</li>
<li><b>Gitlab repository</b>: <a href="https://gitlab.inria.fr/amibio/Infrared">https://gitlab.inria.fr/amibio/Infrared</a></li>
<li><b>Github repository</b>: <a href="https://github.com/s-will/Infrared">https://github.com/s-will/Infrared</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Main features</h2>
<p>Infrared solves a broad class of sampling and optimization problems that can be expressed as feature networks by efficient tree decomposition based algorithms. Solving is thus performed with parameterized complexity depending on the treewidth of the network. The system was developed to target bioinformatics problems with potentially complex dependencies, originally RNA sequence design with multiple target structures. Such problems can be specified in a declarative, compositional style as (evaluated) constraint models using the Python high-level interface of Infrared.</p>
<p>Accessible through the Python interface, the framework provides a fast and flexible C++ engine that evaluates constraint networks consisting of variables, multi-ary functions, and multi-ary constraints. This evaluation by generic algorithms is efficient depending on the complexity, measured as tree-width, of the network.</p>
<p>Application specific functions and constraints can be directly defined in Python. The evaluation is performed efficiently using cluster tree elimination following a (hyper-)tree decomposition of the dependencies (due to functions and constraints). Interpreting the evaluations as partition functions, the system supports sampling of variable assignments from the corresponding Boltzmann distribution. Finally, Infrared implements a generic multi-dimensional Boltzmann sampling strategy to target specific feature values. Such functionality is made conveniently available via general Python classes. In particular, the interface was defined to allow the straightforward and declarative specification of the feature network model.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Installation</h2>
<h3><a class="anchor" id="autotoc_md4"></a>
Conda installation</h3>
<p>Infrared is installed most easily using conda. Infrared is depolyed on conda-forge channel. Users can skip the first line command if it's already done.</p>
<div class="fragment"><div class="line">conda config --add channels conda-forge </div>
<div class="line">conda install infrared</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
Pip installation from source</h3>
<p>For users who don't want to use conda, Infrared can also be installed with standard pip install from it's source, which we make freely available in <a href="https://gitlab.inria.fr/amibio/Infrared">Infrared's Gitlab repository</a>. Compiling and installing requires a C++ / Python build environment including cmake, and installation of further dependencies, e.g. <a href="https://github.com/pybind/pybind11">pybind11</a> and <a href="https://gitlab.inria.fr/amibio/treedecomp">Treedecomp</a>.</p>
<p>After installing dependencies, one compiles and installs Infrared from its base directory by </p><div class="fragment"><div class="line">python3 -m pip install .</div>
</div><!-- fragment --><p>Treedecomp can be installed analogously; Infrared requires at least version 1.1.0.</p>
<p>Note that older Linux distributions, e.g. Ubuntu 18.04, install only outdated versions of pybind11 via their package managers; we require at least version 2.4. One can install pybind11 as well via pip by </p><div class="fragment"><div class="line">PYBIND11_GLOBAL_SDIST=1 python3 -m pip install https://github.com/pybind/pybind11/archive/master.zip</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Documentation</h2>
<p>We provide <a href="https://www.lix.polytechnique.fr/~will/Software/Infrared">Infrared's documentation</a> online. The documentation comprises general information, API reference and examples for the use of Infrared's high-level Python interface.</p>
<p>Jupyter notebooks with code examples are part of the online documentation and can be as well downloaded from subdirectory <a href="https://gitlab.inria.fr/amibio/Infrared/-/tree/master/Doc">Doc</a> on Inrared's Gitlab repository.</p>
<p>A further entry-point to using the library in novel sampling applications is provided by the code of <a href="https://gitlab.inria.fr/amibio/RNARedPrint">RNARedPrint 2</a> and <a href="https://gitlab.inria.fr/amibio/RNAPOND">RNAPOND</a>.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Infrared architecture and background</h2>
<p>The system was originally build to separate the core "Infrared" from applications like <a href="https://gitlab.inria.fr/amibio/RNARedPrint">RNARedprint 2</a> or <a href="https://gitlab.inria.fr/amibio/RNAPOND">RNAPOND</a>.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Python high level interface</h3>
<p>We expose classes of the C++ library to Python, such that problems can be implemented (i.e. modeled) and solved by writing Python code. Python programs using the infrared library, typically import module infrared, create an instance of Model and populate it with variables (specifying their finite domains), constraints and functions. The model automatically generates features from the functions; in order to generate and control several features, the functions can be assigned to function groups. Moreover, the user can define additional features.</p>
<p>The model is passed to Solvers, i.e. Optimizers or Samplers that generate samples from a specific Boltzmann distrubition as well as samples targeted at specific feature values. The latter performed by multi-dimensional Boltzmann sampling. The module provides access to the Infrared core and exports the additional base classes</p>
<p>Internally, as well on the Python side, cluster trees are constructed and populated with constraints and functions.</p>
<h3><a class="anchor" id="autotoc_md9"></a>
Infrared C++ core</h3>
<p>The C++ component solves feature networks, i.e. optimizes or samples, based on cluster trees.</p>
<p>A /cluster tree/ of a feature network (of variables, functions and constraints) corresponds to a (hyper-)tree decomposition of the dependency graph (induced by the functions/constraints on the variables). It consists of bags (aka clusters) of variables, functions, and constraints. The bags are connected by edges to form a tree (or forest), such that the following properties hold</p>
<p>1) For each variable in the CN, there is one bag that contains the variable.</p>
<p>2) For each variable, the bags that contain this variable form a subtree.</p>
<p>3) For each function, there is exactly one bag that contains the function and its variables.</p>
<p>4) For each constraint, there is at least one bag that contains the function and its variables. Constraints are only assigned to bags that contain all of their variables.</p>
<p>The core preforms precomputation, i.e. calculation of partition functions, and Boltzmann sampling based on a given, populated cluster tree.</p>
<p>By design, the Infrared core is strictly low-level and domain-agnostic, it only knows finite domain variables, constraints, and functions; as well as to evaluate partition functions and sample based on cluster trees for constraint networks. This will allow using the same core for evaluation (even not necessarily of partition functions, e.g. instead optimizing energy/fitness) and sampling in very different domains just by writing domain-specific Python code.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Disclaimer and license</h2>
<p>Infrared is free software. It was part of project <a href="https://github.com/yannponty/RNARedPrint">RNARedPrint</a>, then separated as a stand alone project. Note that the system is in active development and is likely to still undergo changes. It is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details [<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>]. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
